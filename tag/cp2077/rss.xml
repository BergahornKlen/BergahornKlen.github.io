<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>Prism Port • Posts by &#34;cp2077&#34; tag</title>
        <link>https://www.sycamore.top</link>
        <description></description>
        <language>zh-CN</language>
        <pubDate>Wed, 06 Nov 2024 01:56:23 +1100</pubDate>
        <lastBuildDate>Wed, 06 Nov 2024 01:56:23 +1100</lastBuildDate>
        <category>Python</category>
        <category>计算机视觉</category>
        <category>深度学习</category>
        <category>Crypto</category>
        <category>Hexo</category>
        <category>shokaX</category>
        <category>博客主题</category>
        <category>实习</category>
        <category>springboot</category>
        <category>CTF</category>
        <category>Misc</category>
        <category>Web</category>
        <category>Miec</category>
        <category>Re</category>
        <category>Pwn</category>
        <category>Backdoor</category>
        <category>Linux</category>
        <category>Kali</category>
        <category>Trojan horse</category>
        <category>Metasploit</category>
        <category>frp</category>
        <category>shellter</category>
        <category>Reverse Shell</category>
        <category>Develop</category>
        <category>Electron</category>
        <category>Google Translate</category>
        <category>node</category>
        <category>Hitokoto</category>
        <category>npm</category>
        <category>plugs</category>
        <category>RCE，loophole</category>
        <category>毕业设计</category>
        <category>机器学习</category>
        <category>Diary</category>
        <category>Australia</category>
        <category>Mod</category>
        <category>CP2077</category>
        <category>archive</category>
        <item>
            <guid isPermalink="true">https://www.sycamore.top/Mod-Develop/Cyberpunk-2077/Ciri%20Main%20Menu%20Background/</guid>
            <title>希里的 CP2077 主菜单背景</title>
            <link>https://www.sycamore.top/Mod-Develop/Cyberpunk-2077/Ciri%20Main%20Menu%20Background/</link>
            <category>Develop</category>
            <category>Mod</category>
            <category>CP2077</category>
            <category>archive</category>
            <pubDate>Wed, 06 Nov 2024 01:56:23 +1100</pubDate>
            <description><![CDATA[ &lt;p&gt;我试图在 2.0+ 版本中修复 mod: &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly93d3cubmV4dXNtb2RzLmNvbS9jeWJlcnB1bmsyMDc3L21vZHMvMjU0MQ==&#34;&gt;Ciri in Night City - Main Menu Background Replacer&lt;/span&gt;，添加对往日之影 Logo 的支持。&lt;/p&gt;
&lt;p&gt;Update 1.1.0：v1.0.0 中，载入游戏时的动画消失了，我将其修复，但最后一个动画也会变成被更改的主菜单背景&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;写在前面&lt;/strong&gt;：加载动画丢失的问题，归根到底是因为这个原 Mod 对背景的修改手段太粗暴了，而往日之影 Logo 缺失，则是因为这个 Mod 过期了。&lt;/p&gt;
&lt;p&gt;如果想修复丢失的加载动画，直接跳到 “找回丢失的加载动画” 阅读就行。&lt;br /&gt;
这一节将从头开始构建这个 Mod。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;p&gt;原 Mod 启动效果图，可以看到没有往日之影的 logo：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730815548/Typera/2024/11/c42fe5caab097e56ca6115aa25028bde.png&#34; alt=&#34;image-20241106010540801&#34; /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h1 id=&#34;logo-的修改方法&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#logo-的修改方法&#34;&gt;#&lt;/a&gt; Logo 的修改方法&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;修改工具&lt;/strong&gt;：WolvenKit&lt;/p&gt;
&lt;h2 id=&#34;往日之影-logo-补充&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#往日之影-logo-补充&#34;&gt;#&lt;/a&gt; 往日之影 Logo 补充&lt;/h2&gt;
&lt;p&gt;打开 Mod Browser，找到安装好的原 Mod&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730998112/Typera/2024/11/5d8a49a1184590d333259cd53e8847dd.png&#34; alt=&#34;image-20241108034829519&#34; /&gt;&lt;/p&gt;
&lt;p&gt;选择 base 文件夹，然后鼠标右键 Add selected items to project&lt;/p&gt;
&lt;p&gt;左侧 Project Explorer 中找到 menu_background.xbm 和  menu_background_1080p.xbm，这是出问题的文件，直接删掉就行，如下：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730998166/Typera/2024/11/f508d2dcb910791026ac4f0cf9bfa3e5.png&#34; alt=&#34;image-20241108034923672&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;最后的工作打包&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#最后的工作打包&#34;&gt;#&lt;/a&gt; 最后的工作：打包&lt;/h2&gt;
&lt;p&gt;Buid -&amp;gt; Pack Project，会在项目文件夹下打包为 zip 压缩包，这就是修复好的 Mod，安装到 CP2077，并卸载掉原 Mod。&lt;/p&gt;
&lt;p&gt;效果如下，成功补上往日之影的 Logo：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730822474/Typera/2024/11/fbc6ffdfb07adb1f77abc0edd380520e.png&#34; alt=&#34;image-20241106030106133&#34; /&gt;&lt;/p&gt;
&lt;h1 id=&#34;分析原-mod&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#分析原-mod&#34;&gt;#&lt;/a&gt; 分析原 Mod&lt;/h1&gt;
&lt;p&gt;最好先阅读：&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zeWNhbW9yZS50b3AvTW9kLURldmVsb3AvQ3liZXJwdW5rLTIwNzcvYXJjaGl2ZSVFNSU4NiU4NSVFNSVBRSVCOSVFOCVBNyVBMyVFNiU5RSU5MA==&#34;&gt;archive 内容解析&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;我的分析过程其实绕了很大的弯子，有兴趣可以看一下。&lt;/p&gt;
&lt;h2 id=&#34;定位背景图片的位置&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#定位背景图片的位置&#34;&gt;#&lt;/a&gt; 定位背景图片的位置&lt;/h2&gt;
&lt;p&gt;原 Mod 修改的文件还是有很多的，为了找到正确的思路，我选择先定位被修改的背景图片。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;根据游戏主线进度不同，赛博朋克的主菜单背景会更换图片。&lt;/p&gt;
&lt;p&gt;寻找后，我发现对应的目录： &lt;code&gt;base\gameplay\gui\world\loading_screens\&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;该目录下所谓 loading_screen_5_after_q101、loading_screen_10_after_q112，应该对应了主线中某些事件的发生，比如图片 loading_screen_10_after_q112\loading_screen_10_shot_01.xbm：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730812872/Typera/2024/11/3609b16ee976bb030b37db1649a51d31.png&#34; alt=&#34;image-20241106002108908&#34; /&gt;&lt;/p&gt;
&lt;p&gt;这显然是在潜入山车安装病毒之后会出现的那个背景图。&lt;/p&gt;
&lt;p&gt;再比如图片 loading_screen_5_after_q101\loading_screen_5_shot_01.xbm：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730809719/Typera/2024/11/ffbe63923183b7d8602c1046d1bc2b84.png&#34; alt=&#34;image-20241105232833312&#34; /&gt;&lt;/p&gt;
&lt;p&gt;这对应目前我的主菜单图片：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730809840/Typera/2024/11/a4e7e61df94dc872b29a72dd4b9fe6ba.png&#34; alt=&#34;image-20241105233029146&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;进一步分析-inkwidget&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#进一步分析-inkwidget&#34;&gt;#&lt;/a&gt; 进一步分析 inkwidget&lt;/h2&gt;
&lt;p&gt;如果我要更换这个主菜单的背景图片，应该需要更改对应的 inkwidget 中的内容。&lt;/p&gt;
&lt;p&gt;原 mod 虽然不能显示往日之影的 logo，但是背景替换功能还是正常的，因此可以做一定的参考。&lt;/p&gt;
&lt;p&gt;着重分析：loading_screen_5_after_q101.inkwidget，因为这对应目前我主菜单的背景图片，方便我进行分析。这里面应该包括构成当前主菜单界面的资源。&lt;/p&gt;
&lt;p&gt;左：原文件；右：原 Mod 中修改后的文件&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730813070/Typera/2024/11/a23b9f1dc9b8ff26b6639b55bb702376.png&#34; alt=&#34;image-20241106002427225&#34; /&gt;&lt;/p&gt;
&lt;p&gt;先看右侧的原 Mod 文件，主要是文件 cp_bq_alphafaded.bk2，这就是被替换的希里背景动画。&lt;/p&gt;
&lt;p&gt;然后看左侧的游戏原文件，因为目前我的主菜单背景是 short01 的图片，所以不看 short02、short03 的内容：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;smoke_loop.bk2&lt;/strong&gt;：一个冒烟的动画视频&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;shot_01_assets.inkatlas&lt;/strong&gt;：对文件 short_01_assets.xbm 进行了分割，提取出图片后面的三个光柱（ad）以及闪烁的灯光（antenna_lights）&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730814251/Typera/2024/11/28b987b84f447477c8c464cf7621f2cc.png&#34; alt=&#34;image-20241106004409120&#34; /&gt;&lt;/p&gt;
&lt;p&gt;short_01_assets.xbm 如下，应该能理解我的意思：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730814533/Typera/2024/11/01b0e79632d94fc3339833106b191ccf.png&#34; alt=&#34;image-20241106004850267&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;loading_screen_5_shot_01.inkatlas&lt;/strong&gt;：对应为主体背景，因为分割的那 4 个参数 Bottom、Left...，分别设置为了 0 和 1，也就是顶格分割，取了图片整体。&lt;/p&gt;
&lt;p&gt;如下是对主页面要素的标注，①对应 smoke_loop.bk2，②对应 shot_01_assets.inkatlas：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730814934/Typera/2024/11/48590ddd97bd03ba9d708ed367fa1ef8.png&#34; alt=&#34;image-20241106005529451&#34; /&gt;&lt;/p&gt;
&lt;p&gt;因此，如果只是要更换当前的背景图片，把 loading_screen_5_shot_01.xbm 换掉就行。&lt;/p&gt;
&lt;h2 id=&#34;原-mod-思路分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#原-mod-思路分析&#34;&gt;#&lt;/a&gt; 原 Mod 思路分析&lt;/h2&gt;
&lt;p&gt;上一节说换 loading_screen_5_shot_01.xbm，其实是不够的。&lt;/p&gt;
&lt;p&gt;先说第一个原因：背景图片是会跟着主线剧情切换的。&lt;/p&gt;
&lt;p&gt;仔细对比可以发现，Mod 中更改的 loading_screen_5_after_q101.inkwidget，其内容和游戏原文件： base\gameplay\gui\world\loading_screens\initial_loading_screen\initial_loading_screen.inkwidget 完全一致。&lt;/p&gt;
&lt;p&gt;左：Mod 中的文件；右：initial_loading_screen.inkwidget&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730820048/Typera/2024/11/99b267900fa56628ce107626801cda75.png&#34; alt=&#34;image-20241106022045941&#34; /&gt;&lt;/p&gt;
&lt;p&gt;而我们知道，initial_loading_screen.inkwidget 中的 cp_bq_alphafaded.bk2，已经被替换为希里的背景动画了。&lt;/p&gt;
&lt;p&gt;因此 loading_screen_5_after_q101 对应的背景就会被替换为希里。&lt;/p&gt;
&lt;p&gt;再看原 Mod，每一个对应文件夹下的 inkwidget，其内容都被改成了 initial_loading_screen.inkwidget&lt;/p&gt;
&lt;p&gt;所以说原 Mod 的思路很绝：既然背景图片会换，那就把它们都改了！&lt;/p&gt;
&lt;h2 id=&#34;往日之影-logo-修复点分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#往日之影-logo-修复点分析&#34;&gt;#&lt;/a&gt; 往日之影 Logo 修复点分析&lt;/h2&gt;
&lt;p&gt;上面分析了这么多其实对修复往日之影的 Logo 完全没用，因为在游戏原文件 loading_screen_5_after_q101.inkwidget 中，我并没有找到 Logo 的部分，上述内容都是原 Mod 更改背景图片的思路。&lt;/p&gt;
&lt;p&gt;但是把已经分析出作用的文件去掉，原 Mod 的结构就简单多了。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;我马上就发现了：base\gameplay\gui\fullscreen\main_menu\menu_background.xbm，以及 menu_background_1080p.xbm&lt;/p&gt;
&lt;p&gt;左：原 Mod 中的 menu_background.xbm；右：游戏原目录中的 menu_background.xbm&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730821292/Typera/2024/11/e99ca6d089324954b2dfb1f94b502241.png&#34; alt=&#34;image-20241106024128469&#34; /&gt;&lt;/p&gt;
&lt;p&gt;少了什么一目了然，就是往日之影的 Logo。&lt;/p&gt;
&lt;p&gt;正确的文件游戏里已经有了，现在加载不出来是因为原 Mod 中的文件覆盖了游戏的默认文件。&lt;/p&gt;
&lt;p&gt;因此如果要修复这个 Logo，只要把 Mod 里这两张图片删了就行。&lt;/p&gt;
&lt;h1 id=&#34;update修复丢失的加载动画&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#update修复丢失的加载动画&#34;&gt;#&lt;/a&gt; Update：修复丢失的加载动画&lt;/h1&gt;
&lt;p&gt;先说说修复完 Logo 之后我发现的这个新问题：&lt;/p&gt;
&lt;p&gt;从主菜单载入游戏存档时，一般会播放一个小剧场，和主菜单背景一样，会跟随剧情变化而变化。而问题就是，这个小剧场没了，加载过程全黑。&lt;/p&gt;
&lt;p&gt;这个小剧场其实由三段动画构成。先看看这三段动画的例子：&lt;/p&gt;
&lt;p&gt;动画一：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731031192/Typera/2024/11/d2aaf1434e40937c6fd9f92d2131d7fc.png&#34; alt=&#34;PixPin_2024-11-08_12-59-19&#34; /&gt;&lt;/p&gt;
&lt;p&gt;动画二：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731035938/Typera/2024/11/fe3589af6f3db84af35d50c00c442090.png&#34; alt=&#34;PixPin_2024-11-08_14-18-10&#34; /&gt;&lt;/p&gt;
&lt;p&gt;动画三：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731035935/Typera/2024/11/96c0c166085ec678bf9a94549e0ab157.png&#34; alt=&#34;PixPin_2024-11-08_14-18-28&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;加载动画丢失原因分析&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#加载动画丢失原因分析&#34;&gt;#&lt;/a&gt; 加载动画丢失原因分析&lt;/h2&gt;
&lt;p&gt;之所以加载动画会丢失，究其原因是原 Mod 直接将每一个对应文件夹（loading_screen_5_after_q101）下的 inkwidget，都替换成了 initial_loading_screen.inkwidget。&lt;/p&gt;
&lt;p&gt;这显然会导致很多问题，loading_screen_5_after_q101.inkwidget 是和加载动画相关的关键文件（具体参考 &lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zeWNhbW9yZS50b3AvTW9kLURldmVsb3AvQ3liZXJwdW5rLTIwNzcvYXJjaGl2ZSVFNSU4NiU4NSVFNSVBRSVCOSVFOCVBNyVBMyVFNiU5RSU5MC8jaW5rd2lkZ2V0&#34;&gt;archive 内容解析 #inkwidget&lt;/span&gt;）。&lt;/p&gt;
&lt;p&gt;从下面那张对比图可以看出，loading_screen_5_after_q101.inkwidget 下对应的三个加载动画资源，ls_01，ls_02，ls_03 在 initial_loading_screen.inkwidget 中都没有了，只剩下 main_menu 和 loading_screen。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731032428/Typera/2024/11/dfc871c9dcc12b9cadeb7ca35624c9e3.png&#34; alt=&#34;image-20241108132025115&#34; /&gt;&lt;/p&gt;
&lt;p&gt;而 main_menu 对应 cp_bq_alphafaded.bk2 资源，也就是替换的希里的背景，loading_screen 则是对应另一个进入主菜单时的动画资源。&lt;/p&gt;
&lt;p&gt;因此，游戏找不到 ls_01，ls_02，ls_03，也就丢失了加载动画&lt;/p&gt;
&lt;h2 id=&#34;加载动画修复方法&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#加载动画修复方法&#34;&gt;#&lt;/a&gt; 加载动画修复方法&lt;/h2&gt;
&lt;p&gt;因为上述原因，只能从头构建这个 Mod。&lt;/p&gt;
&lt;p&gt;首先创建一个新项目，和修复 Logo 时差不多，在 Asset Browser 中找到原 Mod 的 cp_bg_alpha_faded.bk2，也就是希里背景，加入到项目中。&lt;/p&gt;
&lt;p&gt;然后找到游戏中的 loading_screen_5_after_q101.inkwidget 和 initial_loading_screen.inkwidget，将前者加入项目，并打开编辑，后者选择 Open without adding to project 即可。&lt;/p&gt;
&lt;p&gt;复制 initial_loading_screen.inkwidget 中的 cp_bq_alphafaded.bk2 资源，然后加入 loading_screen_5_after_q101.inkwidget 的 externalDependenciesForInternalItems 中：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731034691/Typera/2024/11/a07fb28527c04bf0d6a1fac487d0e1ea.png&#34; alt=&#34;image-20241108135807669&#34; /&gt;&lt;/p&gt;
&lt;p&gt;然后进入 ls_01 的 children，删除里面的 1-6 项，这些都是组成原主菜单背景的资源。至于第 0 项 fade_to_black，应该是衔接动画，不能删除，否则会导致主菜单背景动画播放卡顿。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731034927/Typera/2024/11/f443d45ef51c334045498bbea418f1d1.png&#34; alt=&#34;image-20241108140203924&#34; /&gt;&lt;/p&gt;
&lt;p&gt;然后复制 initial_loading_screen.inkwidget 中 main_menu -&amp;gt; children 中的 cp_bg_alpha，这对应希里的背景动画资源，因为对应文件已经做出替换。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731035051/Typera/2024/11/bc72ba01656cc7c37368d1101c3c08b9.png&#34; alt=&#34;image-20241108140408349&#34; /&gt;&lt;/p&gt;
&lt;p&gt;粘贴到 loading_screen_5_after_q101.inkwidget 之前删除其他资源的位置即可：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731035542/Typera/2024/11/6da47409fffe611ec5d5bc039388b64a.png&#34; alt=&#34;image-20241108141218516&#34; /&gt;&lt;/p&gt;
&lt;p&gt;同样的操作，对 loading_screens 中 其他文件夹下的 .inkwidget 都做一遍，就全都能替换掉了。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;唯一的问题&lt;/strong&gt;：&lt;/p&gt;
&lt;p&gt;ls_01 对应主菜单背景动画和加载动画三，ls_02 对应加载动画一，ls_03 对应加载动画二。&lt;/p&gt;
&lt;p&gt;因此我为了替换主菜单背景动画，修改了 ls_01，加载动画三不可避免的也会变成希里的背景。暂时没有找到解决方法。&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://www.sycamore.top/Mod-Develop/Cyberpunk-2077/archive%E5%86%85%E5%AE%B9%E8%A7%A3%E6%9E%90/</guid>
            <title>archive 内容解析</title>
            <link>https://www.sycamore.top/Mod-Develop/Cyberpunk-2077/archive%E5%86%85%E5%AE%B9%E8%A7%A3%E6%9E%90/</link>
            <category>Develop</category>
            <category>Mod</category>
            <category>CP2077</category>
            <category>archive</category>
            <pubDate>Wed, 06 Nov 2024 01:56:23 +1100</pubDate>
            <description><![CDATA[ &lt;p&gt;本文内容会有些许凌乱，因为是 Mod 开发过程中，我对 archive 的一些文件代表的内容的想法。&lt;/p&gt;
&lt;p&gt;而且本人没有接触过 3D 动画、游戏制作这方面的内容，描述会存在很多不专业的地方。&lt;/p&gt;
&lt;hr /&gt;
&lt;h1 id=&#34;文件类型和作用&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#文件类型和作用&#34;&gt;#&lt;/a&gt; 文件类型和作用&lt;/h1&gt;
&lt;h2 id=&#34;xbm&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#xbm&#34;&gt;#&lt;/a&gt; xbm&lt;/h2&gt;
&lt;p&gt;这是一种图片类型的文件，对应游戏中出现的一些贴图的资源。&lt;/p&gt;
&lt;p&gt;通过 WolvenKit 可以查看图片的内容，比如 expansion_logo.xbm，如下所示：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730808788/Typera/2024/11/2c0934a8e3cdb50eaedad5bc5a2c17f0.png&#34; alt=&#34;image-20241105231302174&#34; /&gt;&lt;/p&gt;
&lt;h2 id=&#34;inkatlas&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#inkatlas&#34;&gt;#&lt;/a&gt; inkatlas&lt;/h2&gt;
&lt;p&gt;这是某种代表了对 xbm 图片进行具体 ” 分割 “ 利用的文件。&lt;/p&gt;
&lt;p&gt;比如 expansion_logo.xbm 对应的 expansion_logo.inkatlas，内容如下：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730808890/Typera/2024/11/90a3c1b209806070d39ecdf04f3cd021.png&#34; alt=&#34;image-20241105231444965&#34; /&gt;&lt;/p&gt;
&lt;p&gt;再次展开这个 3：logo，并和 4：logo_EN 的数据进行对比，如下：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730808968/Typera/2024/11/4c4d7b17e1126d72bd67023217ae420f.png&#34; alt=&#34;image-20241105231603201&#34; /&gt;&lt;/p&gt;
&lt;p&gt;可以看到，其中包括的 Bottom、Left、Right、Top，对应的应该是 xbm 图片中 ” 被分割 “ 出来的具体图片的位置数据，这些数据被框定在 0~1 中。&lt;/p&gt;
&lt;p&gt;以下是我根据这些数据判断他们所对应图片的思路：&lt;/p&gt;
&lt;p&gt;3：logo 的 Bottom 和 4：logo_EN 的 Top 数值接近，几乎可以认为其就是上下相邻的两个图形。&lt;br /&gt;
他们的 Bottom 和 Top 数值接近于 1，因此应当位于 xbm 图片的下侧。&lt;br /&gt;
他们的 Left 数值相等且接近于 0，因此应当位于 xbm 图片的最左侧。&lt;/p&gt;
&lt;p&gt;所以，3：logo 和 4：logo_EN 应当分别对应 xbm 图片左下方的两个英文 logo: PHANTOM LIBERTY&lt;/p&gt;
&lt;h2 id=&#34;inkwidget&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#inkwidget&#34;&gt;#&lt;/a&gt; inkwidget&lt;/h2&gt;
&lt;p&gt;这个文件应该是说明了，组成某些动画需要用到的资源。&lt;/p&gt;
&lt;p&gt;以 loading_screen_5_after_q101.inkwidget 为例，该文件应该对应某个从主菜单载入游戏时的小剧场，该小剧场通常由三个动画组成。&lt;/p&gt;
&lt;p&gt;如下图所示，externalDependenciesForInternalItems 下存放的就是要用到的内部资源。libraryItems 下的就是组成动画的一些信息，ls_01，ls_02，ls_03 对应三个加载动画。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731032972/Typera/2024/11/ed815477f0502d01327d6c8fd694ca6a.png&#34; alt=&#34;image-20241108132929030&#34; /&gt;&lt;/p&gt;
&lt;p&gt;展开 ls_01，以此为例说明这个 node 中的信息。&lt;/p&gt;
&lt;p&gt;关键内容在 如下图所示的 children 中，可以看到一共有 7 项，从其名称中应该可以发现一些端倪。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731033157/Typera/2024/11/fb1bf0564b6749bc6c8d22e2dcad17f2.png&#34; alt=&#34;image-20241108133234564&#34; /&gt;&lt;/p&gt;
&lt;p&gt;比如 shot_01_bg 对应这段动画的背景，antena_light_1 对应一个闪烁的信号灯。它们具体代表的资源，可以进一步展开这些项目获得。&lt;/p&gt;
&lt;p&gt;以 ls_02 中的 BINK_RTW 为例，展开后可以看到对应的 videoResouce 文件。&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731033675/Typera/2024/11/9357c4afea9961b5a46f861d1ddf4906.png&#34; alt=&#34;image-20241108134111623&#34; /&gt;&lt;/p&gt;
&lt;p&gt;如果想知道它对应什么，就将这个 videoResource Add to Project，然后用 rad video 播放，其内容为：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1731033856/Typera/2024/11/7ecc5753dbb2a7e5f44a2e08d451b207.png&#34; alt=&#34;image-20241108134412959&#34; /&gt;&lt;/p&gt;
&lt;p&gt;相信你还记得那个 齐格・Q 和 NCPD 发言人。&lt;/p&gt;
&lt;hr /&gt;
&lt;h1 id=&#34;目录对应的功能&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#目录对应的功能&#34;&gt;#&lt;/a&gt; 目录对应的功能&lt;/h1&gt;
&lt;h2 id=&#34;basegameplayguiworldloading_screens&#34;&gt;&lt;a class=&#34;anchor&#34; href=&#34;#basegameplayguiworldloading_screens&#34;&gt;#&lt;/a&gt;  &lt;code&gt;base\gameplay\gui\world\loading_screens\&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;根据游戏主线进度不同，赛博朋克的主菜单背景会更换图片；加载存档时，会出现多张图片轮换播放。&lt;/p&gt;
&lt;p&gt;比如图片：loading_screen_5_after_q101\loading_screen_5_shot_01.xbm&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730809719/Typera/2024/11/ffbe63923183b7d8602c1046d1bc2b84.png&#34; alt=&#34;image-20241105232833312&#34; /&gt;&lt;/p&gt;
&lt;p&gt;可以在主菜单看到同样的图片：&lt;/p&gt;
&lt;p&gt;&lt;img data-src=&#34;https://res.cloudinary.com/sycamore/image/upload/v1730809840/Typera/2024/11/a4e7e61df94dc872b29a72dd4b9fe6ba.png&#34; alt=&#34;image-20241105233029146&#34; /&gt;&lt;/p&gt;
&lt;p&gt;因此，如果我要更换这个主菜单的背景图片，需要更改对应的 inkwidget 中的内容。&lt;/p&gt;
&lt;p&gt;（后续分析：[希里的 CP2077 主菜单背景](&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9zeWNhbW9yZS50b3AvTW9k&#34;&gt;https://sycamore.top/Mod&lt;/span&gt; Develop/Cyberpunk 2077/Ciri Main Menu Background/)）&lt;/p&gt;
 ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://www.sycamore.top/Mod-Develop/Cyberpunk-2077/Weapon%20Inspection/</guid>
            <title>武器验视 Mod</title>
            <link>https://www.sycamore.top/Mod-Develop/Cyberpunk-2077/Weapon%20Inspection/</link>
            <category>Develop</category>
            <category>Mod</category>
            <category>CP2077</category>
            <pubDate>Tue, 05 Nov 2024 17:05:53 +1100</pubDate>
            <description><![CDATA[ &lt;p&gt;开发中：&lt;span class=&#34;exturl&#34; data-url=&#34;aHR0cHM6Ly9naXRodWIuY29tL25vbmVTeWNhbW9yZS9XZWFwb24tSW5zcGVjdGlvbi1DUDIwNzc=&#34;&gt;noneSycamore/Weapon-Inspection-CP2077&lt;/span&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>
